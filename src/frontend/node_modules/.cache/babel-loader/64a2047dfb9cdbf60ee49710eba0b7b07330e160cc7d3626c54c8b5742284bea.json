{"ast":null,"code":"var _jsxFileName = \"E:\\\\Test\\\\Shopify-Chatbot\\\\src\\\\frontend\\\\src\\\\components\\\\Chatbot.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport './Chatbot.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Chatbot = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  // Theme settings\n  const [settings, setSettings] = useState({\n    position: 'bottom-right',\n    primaryColor: '#5c6ac4',\n    secondaryColor: '#f0f2f5',\n    fontFamily: 'inherit',\n    fontSize: '14px',\n    enableNotifications: true,\n    saveHistory: true\n  });\n\n  // Apply theme settings to chatbot\n  useEffect(() => {\n    const root = document.documentElement;\n    root.style.setProperty('--chatbot-primary-color', settings.primaryColor);\n    root.style.setProperty('--chatbot-secondary-color', settings.secondaryColor);\n    root.style.setProperty('--chatbot-font-family', settings.fontFamily);\n    root.style.setProperty('--chatbot-font-size', settings.fontSize);\n\n    // Apply position\n    const container = document.querySelector('.chatbot-container');\n    if (container) {\n      container.className = `chatbot-container ${settings.position}`;\n    }\n  }, [settings]);\n\n  // Load settings from localStorage on mount\n  useEffect(() => {\n    const savedSettings = localStorage.getItem('chatbotSettings');\n    if (savedSettings) {\n      setSettings(JSON.parse(savedSettings));\n    }\n\n    // Try to inherit shop theme colors if in Shopify environment\n    if (window.Shopify && window.Shopify.theme) {\n      const shopifyColors = {\n        primaryColor: window.Shopify.theme.style.buttonPrimaryBackground || settings.primaryColor,\n        secondaryColor: window.Shopify.theme.style.colorBackground || settings.secondaryColor,\n        fontFamily: window.Shopify.theme.style.typeHeadingFamily || settings.fontFamily\n      };\n      setSettings(prev => ({\n        ...prev,\n        ...shopifyColors\n      }));\n    }\n  }, []);\n\n  // Scroll to bottom of messages\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const sendMessage = async e => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    const userMessage = {\n      text: input,\n      sender: 'user'\n    };\n    setMessages([...messages, userMessage]);\n    setInput('');\n    try {\n      // Add loading message\n      setMessages(prev => [...prev, {\n        text: '...',\n        sender: 'bot',\n        loading: true\n      }]);\n\n      // Call backend API with the correct URL\n      const response = await axios.post('http://localhost:3000/api/chat', {\n        message: input\n      });\n\n      // Remove loading message and add actual response\n      setMessages(prev => {\n        const filtered = prev.filter(msg => !msg.loading);\n        return [...filtered, {\n          text: response.data.reply,\n          sender: 'bot'\n        }];\n      });\n\n      // Save messages to localStorage if enabled\n      if (settings.saveHistory) {\n        localStorage.setItem('chatHistory', JSON.stringify([...messages, userMessage, {\n          text: response.data.reply,\n          sender: 'bot'\n        }]));\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n\n      // Remove loading message and add error message\n      setMessages(prev => {\n        const filtered = prev.filter(msg => !msg.loading);\n        return [...filtered, {\n          text: 'Sorry, I encountered an error. Please try again later.',\n          sender: 'bot',\n          error: true\n        }];\n      });\n    }\n  };\n  const handleSettingChange = (key, value) => {\n    setSettings(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const saveSettings = () => {\n    localStorage.setItem('chatbotSettings', JSON.stringify(settings));\n    setShowSettings(false);\n  };\n  const clearHistory = () => {\n    setMessages([]);\n    localStorage.removeItem('chatHistory');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `chatbot-container ${settings.position}`,\n    style: {\n      '--chatbot-primary-color': settings.primaryColor,\n      '--chatbot-secondary-color': settings.secondaryColor,\n      fontFamily: settings.fontFamily,\n      fontSize: settings.fontSize\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"chatbot-toggle\",\n      onClick: () => setIsOpen(!isOpen),\n      style: {\n        backgroundColor: settings.primaryColor\n      },\n      children: isOpen ? 'Close Chat' : 'Chat with us'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatbot-window\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatbot-header\",\n        style: {\n          backgroundColor: settings.primaryColor\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Iris Essentials Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"settings-button\",\n            onClick: () => setShowSettings(!showSettings),\n            title: \"Settings\",\n            children: \"\\u2699\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsOpen(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this), showSettings ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatbot-settings\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Chat Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Position\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"position-options\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `position-option ${settings.position === 'bottom-right' ? 'active' : ''}`,\n            onClick: () => handleSettingChange('position', 'bottom-right'),\n            children: \"Bottom Right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `position-option ${settings.position === 'bottom-left' ? 'active' : ''}`,\n            onClick: () => handleSettingChange('position', 'bottom-left'),\n            children: \"Bottom Left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `position-option ${settings.position === 'top-right' ? 'active' : ''}`,\n            onClick: () => handleSettingChange('position', 'top-right'),\n            children: \"Top Right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `position-option ${settings.position === 'top-left' ? 'active' : ''}`,\n            onClick: () => handleSettingChange('position', 'top-left'),\n            children: \"Top Left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Colors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"color-settings\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"color-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Primary Color\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"color\",\n              value: settings.primaryColor,\n              onChange: e => handleSettingChange('primaryColor', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"color-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Secondary Color\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"color\",\n              value: settings.secondaryColor,\n              onChange: e => handleSettingChange('secondaryColor', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Font\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-settings\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Font Family\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: settings.fontFamily,\n              onChange: e => handleSettingChange('fontFamily', e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"inherit\",\n                children: \"Default\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Arial, sans-serif\",\n                children: \"Arial\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Helvetica, sans-serif\",\n                children: \"Helvetica\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Georgia, serif\",\n                children: \"Georgia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"'Times New Roman', serif\",\n                children: \"Times New Roman\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"'Courier New', monospace\",\n                children: \"Courier New\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-option\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Font Size\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: settings.fontSize,\n              onChange: e => handleSettingChange('fontSize', e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"12px\",\n                children: \"Small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"14px\",\n                children: \"Medium\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"16px\",\n                children: \"Large\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"18px\",\n                children: \"Extra Large\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Other Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-option\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: settings.enableNotifications,\n              onChange: e => handleSettingChange('enableNotifications', e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 19\n            }, this), \"Enable notifications\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"settings-option\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: settings.saveHistory,\n              onChange: e => handleSettingChange('saveHistory', e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 19\n            }, this), \"Save chat history\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"save-settings\",\n          onClick: saveSettings,\n          children: \"Save Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"clear-history\",\n          onClick: clearHistory,\n          children: \"Clear Chat History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-to-chat\",\n          onClick: () => setShowSettings(false),\n          children: \"Back to Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-messages\",\n          children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"welcome-message\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\uD83D\\uDC4B Hi there! How can I help you today?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 19\n          }, this) : messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message ${message.sender} ${message.error ? 'error' : ''}`,\n            style: {\n              backgroundColor: message.sender === 'user' ? settings.primaryColor : settings.secondaryColor,\n              color: message.sender === 'user' ? 'white' : '#333'\n            },\n            children: message.text\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 21\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: sendMessage,\n          className: \"chat-input-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            placeholder: \"Type your message...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              backgroundColor: settings.primaryColor\n            },\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n_s(Chatbot, \"6FsrvAgFIggCG4/DDnNSPRzEd0s=\");\n_c = Chatbot;\nexport default Chatbot;\nvar _c;\n$RefreshReg$(_c, \"Chatbot\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Chatbot","_s","messages","setMessages","input","setInput","isOpen","setIsOpen","showSettings","setShowSettings","messagesEndRef","settings","setSettings","position","primaryColor","secondaryColor","fontFamily","fontSize","enableNotifications","saveHistory","root","document","documentElement","style","setProperty","container","querySelector","className","savedSettings","localStorage","getItem","JSON","parse","window","Shopify","theme","shopifyColors","buttonPrimaryBackground","colorBackground","typeHeadingFamily","prev","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","sendMessage","e","preventDefault","trim","userMessage","text","sender","loading","response","post","message","filtered","filter","msg","data","reply","setItem","stringify","error","console","handleSettingChange","key","value","saveSettings","clearHistory","removeItem","children","onClick","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","title","type","onChange","target","checked","length","map","index","color","ref","onSubmit","placeholder","_c","$RefreshReg$"],"sources":["E:/Test/Shopify-Chatbot/src/frontend/src/components/Chatbot.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport './Chatbot.css';\r\n\r\nconst Chatbot = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  \r\n  // Theme settings\r\n  const [settings, setSettings] = useState({\r\n    position: 'bottom-right',\r\n    primaryColor: '#5c6ac4',\r\n    secondaryColor: '#f0f2f5',\r\n    fontFamily: 'inherit',\r\n    fontSize: '14px',\r\n    enableNotifications: true,\r\n    saveHistory: true\r\n  });\r\n\r\n  // Apply theme settings to chatbot\r\n  useEffect(() => {\r\n    const root = document.documentElement;\r\n    root.style.setProperty('--chatbot-primary-color', settings.primaryColor);\r\n    root.style.setProperty('--chatbot-secondary-color', settings.secondaryColor);\r\n    root.style.setProperty('--chatbot-font-family', settings.fontFamily);\r\n    root.style.setProperty('--chatbot-font-size', settings.fontSize);\r\n    \r\n    // Apply position\r\n    const container = document.querySelector('.chatbot-container');\r\n    if (container) {\r\n      container.className = `chatbot-container ${settings.position}`;\r\n    }\r\n  }, [settings]);\r\n\r\n  // Load settings from localStorage on mount\r\n  useEffect(() => {\r\n    const savedSettings = localStorage.getItem('chatbotSettings');\r\n    if (savedSettings) {\r\n      setSettings(JSON.parse(savedSettings));\r\n    }\r\n    \r\n    // Try to inherit shop theme colors if in Shopify environment\r\n    if (window.Shopify && window.Shopify.theme) {\r\n      const shopifyColors = {\r\n        primaryColor: window.Shopify.theme.style.buttonPrimaryBackground || settings.primaryColor,\r\n        secondaryColor: window.Shopify.theme.style.colorBackground || settings.secondaryColor,\r\n        fontFamily: window.Shopify.theme.style.typeHeadingFamily || settings.fontFamily\r\n      };\r\n      setSettings(prev => ({ ...prev, ...shopifyColors }));\r\n    }\r\n  }, []);\r\n\r\n  // Scroll to bottom of messages\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (!input.trim()) return;\r\n\r\n    const userMessage = { text: input, sender: 'user' };\r\n    setMessages([...messages, userMessage]);\r\n    setInput('');\r\n\r\n    try {\r\n      // Add loading message\r\n      setMessages(prev => [...prev, { text: '...', sender: 'bot', loading: true }]);\r\n      \r\n      // Call backend API with the correct URL\r\n      const response = await axios.post('http://localhost:3000/api/chat', { message: input });\r\n      \r\n      // Remove loading message and add actual response\r\n      setMessages(prev => {\r\n        const filtered = prev.filter(msg => !msg.loading);\r\n        return [...filtered, { text: response.data.reply, sender: 'bot' }];\r\n      });\r\n      \r\n      // Save messages to localStorage if enabled\r\n      if (settings.saveHistory) {\r\n        localStorage.setItem('chatHistory', JSON.stringify([...messages, userMessage, { text: response.data.reply, sender: 'bot' }]));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      \r\n      // Remove loading message and add error message\r\n      setMessages(prev => {\r\n        const filtered = prev.filter(msg => !msg.loading);\r\n        return [...filtered, { \r\n          text: 'Sorry, I encountered an error. Please try again later.', \r\n          sender: 'bot', \r\n          error: true \r\n        }];\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSettingChange = (key, value) => {\r\n    setSettings(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const saveSettings = () => {\r\n    localStorage.setItem('chatbotSettings', JSON.stringify(settings));\r\n    setShowSettings(false);\r\n  };\r\n\r\n  const clearHistory = () => {\r\n    setMessages([]);\r\n    localStorage.removeItem('chatHistory');\r\n  };\r\n\r\n  return (\r\n    <div className={`chatbot-container ${settings.position}`} style={{ \r\n      '--chatbot-primary-color': settings.primaryColor,\r\n      '--chatbot-secondary-color': settings.secondaryColor,\r\n      fontFamily: settings.fontFamily,\r\n      fontSize: settings.fontSize\r\n    }}>\r\n      <button \r\n        className=\"chatbot-toggle\"\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        style={{ backgroundColor: settings.primaryColor }}\r\n      >\r\n        {isOpen ? 'Close Chat' : 'Chat with us'}\r\n      </button>\r\n      \r\n      {isOpen && (\r\n        <div className=\"chatbot-window\">\r\n          <div className=\"chatbot-header\" style={{ backgroundColor: settings.primaryColor }}>\r\n            <h3>Iris Essentials Assistant</h3>\r\n            <div className=\"header-buttons\">\r\n              <button \r\n                className=\"settings-button\" \r\n                onClick={() => setShowSettings(!showSettings)}\r\n                title=\"Settings\"\r\n              >\r\n                ‚öôÔ∏è\r\n              </button>\r\n              <button onClick={() => setIsOpen(false)}>√ó</button>\r\n            </div>\r\n          </div>\r\n          \r\n          {showSettings ? (\r\n            <div className=\"chatbot-settings\">\r\n              <h4>Chat Settings</h4>\r\n              \r\n              <h5>Position</h5>\r\n              <div className=\"position-options\">\r\n                <div \r\n                  className={`position-option ${settings.position === 'bottom-right' ? 'active' : ''}`}\r\n                  onClick={() => handleSettingChange('position', 'bottom-right')}\r\n                >\r\n                  Bottom Right\r\n                </div>\r\n                <div \r\n                  className={`position-option ${settings.position === 'bottom-left' ? 'active' : ''}`}\r\n                  onClick={() => handleSettingChange('position', 'bottom-left')}\r\n                >\r\n                  Bottom Left\r\n                </div>\r\n                <div \r\n                  className={`position-option ${settings.position === 'top-right' ? 'active' : ''}`}\r\n                  onClick={() => handleSettingChange('position', 'top-right')}\r\n                >\r\n                  Top Right\r\n                </div>\r\n                <div \r\n                  className={`position-option ${settings.position === 'top-left' ? 'active' : ''}`}\r\n                  onClick={() => handleSettingChange('position', 'top-left')}\r\n                >\r\n                  Top Left\r\n                </div>\r\n              </div>\r\n              \r\n              <h5>Colors</h5>\r\n              <div className=\"color-settings\">\r\n                <div className=\"color-option\">\r\n                  <label>Primary Color</label>\r\n                  <input \r\n                    type=\"color\" \r\n                    value={settings.primaryColor}\r\n                    onChange={(e) => handleSettingChange('primaryColor', e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"color-option\">\r\n                  <label>Secondary Color</label>\r\n                  <input \r\n                    type=\"color\" \r\n                    value={settings.secondaryColor}\r\n                    onChange={(e) => handleSettingChange('secondaryColor', e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <h5>Font</h5>\r\n              <div className=\"font-settings\">\r\n                <div className=\"font-option\">\r\n                  <label>Font Family</label>\r\n                  <select \r\n                    value={settings.fontFamily}\r\n                    onChange={(e) => handleSettingChange('fontFamily', e.target.value)}\r\n                  >\r\n                    <option value=\"inherit\">Default</option>\r\n                    <option value=\"Arial, sans-serif\">Arial</option>\r\n                    <option value=\"Helvetica, sans-serif\">Helvetica</option>\r\n                    <option value=\"Georgia, serif\">Georgia</option>\r\n                    <option value=\"'Times New Roman', serif\">Times New Roman</option>\r\n                    <option value=\"'Courier New', monospace\">Courier New</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"font-option\">\r\n                  <label>Font Size</label>\r\n                  <select \r\n                    value={settings.fontSize}\r\n                    onChange={(e) => handleSettingChange('fontSize', e.target.value)}\r\n                  >\r\n                    <option value=\"12px\">Small</option>\r\n                    <option value=\"14px\">Medium</option>\r\n                    <option value=\"16px\">Large</option>\r\n                    <option value=\"18px\">Extra Large</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              \r\n              <h5>Other Settings</h5>\r\n              <div className=\"settings-option\">\r\n                <label>\r\n                  <input \r\n                    type=\"checkbox\" \r\n                    checked={settings.enableNotifications}\r\n                    onChange={(e) => handleSettingChange('enableNotifications', e.target.checked)}\r\n                  />\r\n                  Enable notifications\r\n                </label>\r\n              </div>\r\n              <div className=\"settings-option\">\r\n                <label>\r\n                  <input \r\n                    type=\"checkbox\" \r\n                    checked={settings.saveHistory}\r\n                    onChange={(e) => handleSettingChange('saveHistory', e.target.checked)}\r\n                  />\r\n                  Save chat history\r\n                </label>\r\n              </div>\r\n              \r\n              <button className=\"save-settings\" onClick={saveSettings}>\r\n                Save Settings\r\n              </button>\r\n              \r\n              <button className=\"clear-history\" onClick={clearHistory}>\r\n                Clear Chat History\r\n              </button>\r\n              \r\n              <button className=\"back-to-chat\" onClick={() => setShowSettings(false)}>\r\n                Back to Chat\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"chat-messages\">\r\n                {messages.length === 0 ? (\r\n                  <div className=\"welcome-message\">\r\n                    <p>üëã Hi there! How can I help you today?</p>\r\n                  </div>\r\n                ) : (\r\n                  messages.map((message, index) => (\r\n                    <div \r\n                      key={index} \r\n                      className={`message ${message.sender} ${message.error ? 'error' : ''}`}\r\n                      style={{\r\n                        backgroundColor: message.sender === 'user' ? settings.primaryColor : settings.secondaryColor,\r\n                        color: message.sender === 'user' ? 'white' : '#333'\r\n                      }}\r\n                    >\r\n                      {message.text}\r\n                    </div>\r\n                  ))\r\n                )}\r\n                <div ref={messagesEndRef} />\r\n              </div>\r\n              <form onSubmit={sendMessage} className=\"chat-input-form\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={input}\r\n                  onChange={(e) => setInput(e.target.value)}\r\n                  placeholder=\"Type your message...\"\r\n                />\r\n                <button type=\"submit\" style={{ backgroundColor: settings.primaryColor }}>Send</button>\r\n              </form>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chatbot;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}